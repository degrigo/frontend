<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<title>Tadeu Grigolon</title>
		<meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="css/main.css">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- DOM é a arvore de objetos do HTML, respeitando a hierarquia (documento == node, html == node)-->
	</head>
	<body>
		<div id="cabecalho">
			<!-- centralizando o conteúdo com centered -->
			<div class="centered">
				<div id="logo">
					<img src="images/logo.png" alt="Logo" />
				</div>
				<div id="menu">
					<img class="icon" id="menu_icon" src="images/icon_menu.png" alt="" />
					<ul id="menu_lista">
						<li><a href="#">Sobre</a></li>
						<li><a href="#">Serviços</a></li>
						<li><a href="#">Contato</a></li>
					</ul>					
				</div>
			</div>
		</div>
		<div id="sobre">
			<div class="centered">
				<h1>Tadeu Grigolon</h1>
				<p>
					Desenvolvedor Magento e músico nas horas vagas.
					<br />
					=
					<br />
					<strong>Ad angusta per angusta</strong>
				</p>
			</div>
		</div>
		<div id="servicos">
			<div class="centered">
				<h2>Serviços</h2>
				<div class="servico">
					<img src="images/servico_1.jpg" alt="Serviço 1" title="Serviço 1" />
					<div class="descricao">
						<h3>Nome do Projeto</h3>
						<p>É importante questionar o quanto...</p>
					</div>
				</div>
				<div class="servico">
					<img src="images/servico_2.jpg" alt="Serviço 2" title="Serviço 2" />
					<div class="descricao">
						<h3>Nome do Projeto</h3>
						<p>É importante questionar o quanto...</p>
					</div>
				</div>
				<div class="servico">
					<img src="images/servico_3.jpg" alt="Serviço 3" title="Serviço 3" />
					<div class="descricao">
						<h3>Nome do Projeto</h3>
						<p>É importante questionar o quanto...</p>
					</div>
				</div>
			</div>
		</div>
		<div id="contato">
			<div class="centered">
				<h2>Contato</h2>
				<!-- adicionando atrubuto onsubmit-->
				<!-- setando name contato -->
				<form action="#" name="contato" method="POST" onsubmit="return validar();">
					<table>
						<tr>
							<td>
								<!-- label trabalha com o id do input -->
								<label for="nome">Nome:</label>
								<input id="nome" type="text" name="nome" />
							</td>
						</tr>
						<tr>
							<td>
								<label for="email">E-mail:</label>
								<input id="email" type="email" name="email">
							</td>
						</tr>
						<tr>
							<td>
								<!-- textarea com maxlenght, rows (linhas) e cols (colunas)  -->
								<label for="mensagem">Mensagem:</label>
								<textarea id="mensagem" name="mensagem"></textarea>
							</td>
						</tr>
						<tr>
							<td>
								<input id="enviar" type="submit" name="enviar">
							</td>
						</tr>
					</table>
				</form>
			</div>
		</div>
		<script type="text/javascript">
			
			//referenciando o elemento com Id cabeçalho
			var cabecalho = document.getElementById("cabecalho");

			// pegar a posição inicial do cabeçalho com offsetTop

			var posYCabecalho = cabecalho.offsetTop;

			// setando classe na rolagem da página
			window.onscroll = function(){
				stickyBar();
			};

			// window.pageYOffset informa quantos pixels a janela foir rolada no eixo Y
			function stickyBar() {
				if(window.pageYOffset > posYCabecalho) {

					//incluir nova classe "sticky" nas classes do elemento cabecalho
					cabecalho.classList.add("sticky");

				} else {
					//remover classe "sticky" nas classes do elemento cabecalho
					cabecalho.classList.remove("sticky");
				}
			}

			//exibir menu de lista ao clicar no icon menu
			//pegando id da imagem
			var menuIcon = document.getElementById("menu_icon");
			// escutando o evento com addEventListener
			menu_icon.addEventListener('click', function(argument) {
				//perguntar se o menu lista já está visível
				//esse cara já tem a classe showup setada
				if(document.getElementById("menu_lista").classList.contains("showup")){
					//removendo a classe showup
					document.getElementById("menu_lista").classList.remove("showup");
				} else {
					// se a classe foi removida, adiciono ela novamente
					document.getElementById("menu_lista").classList.add("showup");
				}
			});

			function validar(){
				//localizar form no código
				var form = document.forms["contato"];
				// trazendo todos os elementos presentes dentro do form com o método elements
				var fields = form.elements; // objeto DOM elements

				var required = [];

				// fields.lenght verifica quantas tags existe dentro do form
				for(var i = 0; i < fields.length; i++) {
					if(fields[i].type != "submit" && fields[i].value == "") {
						// campo vazio e deve ser preenchido
						// enviando a lista com valores para dentro do array
						required.push(fields[i]);
					}
				}

				console.log(required);
				//return false;

				// algum item foi jogado dentro do array
				if(required.length > 0){
					//percorrendo lista de elementos com valor vazio
					for(var i = 0; i < required.length; i++){
						//adicionar nova classe css se o elemento for vazio
						required[i].classList.add("required");
					}

					return false;

				} else {

					return true;
				}
			}
		</script>
	</body>
</html>
